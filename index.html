<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
<title>Triggui - Tu empujoncito de lectura por WhatsApp</title>

<meta property="og:title" content="Triggui - Tu empujoncito de lectura por WhatsApp" />
<meta property="og:description" content="Recibe las mejores lÃ­neas de libros curadas para tu momento exacto. Por WhatsApp. Cancela cuando quieras." />
<meta property="og:image" content="https://triggui.com/imagotipo.png" />
<meta property="og:url" content="https://triggui.com" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Triggui - Tu empujoncito de lectura por WhatsApp" />
<meta property="og:description" content="Curadas para tu momento exacto. Los lunes cuando mÃ¡s las necesitas." />
<meta name="twitter:image" content="https://triggui.com/imagotipo.png" />

<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZKG8ZNSB35"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-ZKG8ZNSB35');
</script>

<script>
// UTM Tracker
function getUTMParams() {
  const params = new URLSearchParams(window.location.search);
  return {
    source: params.get('utm_source') || 'direct',
    medium: params.get('utm_medium') || 'none',
    campaign: params.get('utm_campaign') || 'organic',
    content: params.get('utm_content') || '',
    term: params.get('utm_term') || ''
  };
}

// Track conversiÃ³n
function trackConversion(event, value = 0) {
  const utm = getUTMParams();
  if (typeof gtag !== 'undefined') {
    gtag('event', event, {
      event_category: 'conversion',
      event_label: utm.source,
      value: value,
      currency: 'MXN',
      utm_source: utm.source,
      utm_medium: utm.medium,
      utm_campaign: utm.campaign
    });
  }
  console.log('ğŸ¯ Conversion:', event, 'Value:', value, 'UTM:', utm);
}

// Track engagement
function trackEngagement(action, label = '') {
  if (typeof gtag !== 'undefined') {
    gtag('event', 'engagement', {
      event_category: 'interaction',
      event_label: action,
      action_detail: label
    });
  }
  console.log('ğŸ“Š Engagement:', action, label);
}

// Track page sections viewed
function trackSectionView(section) {
  if (typeof gtag !== 'undefined') {
    gtag('event', 'section_view', {
      event_category: 'scroll',
      event_label: section
    });
  }
}

// Guardar UTM
(function() {
  const utm = getUTMParams();
  if (utm.source !== 'direct') {
    sessionStorage.setItem('triggui_utm', JSON.stringify(utm));
  }
})();
</script>

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Archivo:wght@400;700&display=swap" rel="stylesheet"/>
<style>
  html,body{margin:0;padding:0;font-family:'Archivo',sans-serif;background:linear-gradient(135deg,#0f0c29,#302b63,#24243e);color:#f5f5f5;scroll-behavior:smooth;overflow-x:hidden}
  .gradient-hero{background:linear-gradient(to right,#ff8a00,#e52e71,#00c6ff);background-size:200% auto;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:gradientMove 6s ease infinite;font-weight:900}
  .gradient-planes{background:linear-gradient(to right,#00f2fe,#4facfe,#00f2fe);background-size:200% auto;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:gradientMove 6s ease infinite;font-weight:900}
  .gradient-paraque{background:linear-gradient(to right,#f83600,#f9d423,#f83600);background-size:200% auto;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:gradientMove 6s ease infinite;font-weight:900}
  .gradient-testimonios{background:linear-gradient(to right,#c471ed,#f64f59,#12c2e9);background-size:200% auto;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:gradientMove 6s ease infinite;font-weight:900}
  .gradient-cierre{background:linear-gradient(to right,#00c6ff,#0072ff,#00c6ff);background-size:200% auto;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:gradientMove 6s ease infinite;font-weight:900}
  .gradient-vs{background:linear-gradient(to right,#fa709a,#fee140,#fa709a);background-size:200% auto;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:gradientMove 6s ease infinite;font-weight:900}

  .glass{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.08);backdrop-filter:blur(16px);border-radius:1.5rem;padding:2rem;box-shadow:0 12px 30px rgba(0,0,0,.3);transition:transform .3s,box-shadow .3s;display:flex;flex-direction:column;align-items:center;text-align:center}
  .glass:hover{transform:translateY(-4px);box-shadow:0 0 35px rgba(255,255,255,.08)}

  .glow-button{background:linear-gradient(270deg,#ff6ec4,#7873f5,#2af598);background-size:600% 600%;color:#fff;padding:.75rem 2rem;font-weight:bold;border-radius:999px;box-shadow:0 0 18px rgba(255,255,255,.1);animation:neonflow 6s ease infinite;transition:all .25s;text-decoration:none;display:inline-block;cursor:pointer;border:none}
  .glow-button:hover{transform:scale(1.05);box-shadow:0 0 25px rgba(255,255,255,.2)}
  .glow-button:disabled{opacity:.6;cursor:not-allowed}
  .glass .glow-button{margin-top:auto}

  @keyframes neonflow{0%{background-position:0 50%}50%{background-position:100% 50%}100%{background-position:0 50%}}
  .countup{font-size:2.5rem;font-weight:900;background:linear-gradient(to right,#00f2fe,#ff00c7);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
  @media(max-width:768px){h1{font-size:2.4rem}.countup{font-size:2.1rem}}
  
  .floating-cta{position:fixed;bottom:20px;right:20px;z-index:9999;padding:12px 24px;font-weight:bold;border-radius:999px;background:linear-gradient(135deg,#ff0080,#7928ca,#2af598);background-size:300% 300%;color:#fff;animation:pulse-glow 3s infinite;box-shadow:0 0 20px rgba(255,94,98,.5);opacity:0;pointer-events:none;transition:opacity .3s;text-decoration:none}
  .floating-cta.visible{opacity:1;pointer-events:auto}
  
  @keyframes pulse-glow{0%,100%{transform:scale(1);filter:brightness(1)}50%{transform:scale(1.08);filter:brightness(1.2)}}
  @keyframes gradientMove{0%{background-position:0}100%{background-position:200%}}

  .floating-whatsapp{
    position:fixed;
    bottom:80px;
    right:20px;
    z-index:9999;
    width:56px;
    height:56px;
    border-radius:50%;
    background:linear-gradient(135deg,#0f0c29,#302b63,#00c6ff);
    background-size:300% 300%;
    display:flex;
    align-items:center;
    justify-content:center;
    color:#fff;
    animation:pulse-glow 3s infinite;
    box-shadow:0 0 16px rgba(0,198,255,.7),
               0 0 36px rgba(142,45,226,.5),
               0 0 64px rgba(255,110,196,.4);
    text-decoration:none;
    transition:transform .25s,filter .25s;
  }
  .floating-whatsapp:hover{
    transform:translateY(-2px) scale(1.12);
    filter:brightness(1.25);
  }

  .urgency-badge{
    background:linear-gradient(135deg,#ff0080,#ff8c00);
    color:#fff;
    font-size:.75rem;
    font-weight:bold;
    padding:.25rem .75rem;
    border-radius:999px;
    display:inline-block;
    animation:pulse 2s ease-in-out infinite;
  }
  @keyframes pulse{0%,100%{opacity:1}50%{opacity:.7}}

  /* Phone Input Styling */
  .phone-input-wrapper {
    display: flex;
    gap: .5rem;
    width: 100%;
    position: relative;
  }

  select.country-code {
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right 0.7rem center;
    background-size: 1rem;
    padding-right: 2.2rem;
    cursor: pointer;
  }

  select.country-code option {
    background-color: #1f2937;
    color: #ffffff;
    padding: 10px;
  }

  .phone-number {
    flex: 1;
    min-width: 0;
  }

  /* Mobile Optimization */
  @media (max-width: 480px) {
    .phone-input-wrapper {
        gap: 0.35rem;
    }
    select.country-code {
        width: 115px;
        font-size: 0.95rem;
        padding-left: 0.75rem;
        padding-right: 1.8rem;
        background-position: right 0.4rem center;
    }
    .phone-number {
        font-size: 0.95rem;
        padding-left: 1rem;
        padding-right: 1rem;
    }
    header {
        padding-left: 1rem;
        padding-right: 1rem;
    }
    #activeBadge {
      top: 10px !important;
      right: 10px !important;
      font-size: 11px !important;
      padding: 6px 10px !important;
    }
  }

  /* Social Proof Badge */
  #activeBadge {
    animation: fadeIn 0.5s ease;
  }
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
  }
</style>
</head>
<body>

<a href="https://wa.me/5215532394017" target="_blank" class="floating-whatsapp" id="whatsappFloat" aria-label="WhatsApp" onclick="trackEngagement('whatsapp_float_clicked')">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="26" height="26" fill="white">
    <path d="M16 .5C7.6.5.5 7.6.5 16c0 2.8.7 5.6 2.1 8L.5 31.5l7.7-2.1c2.3 1.3 5 2 7.8 2 8.4 0 15.5-7.1 15.5-15.5S24.4.5 16 .5zm0 28.2c-2.4 0-4.8-.6-6.9-1.9l-.5-.3-4.6 1.3 1.3-4.5-.3-.5c-1.3-2.1-2-4.5-2-7 0-7.2 5.8-13 13-13s13 5.8 13 13-5.8 13-13 13zm7.4-9.7c-.4-.2-2.4-1.2-2.8-1.3-.4-.2-.7-.2-1 .2-.3.4-1.1 1.3-1.3 1.5-.2.2-.5.3-.9.1s-1.9-.7-3.6-2.2c-1.3-1.1-2.2-2.4-2.5-2.8-.2-.4 0-.6.1-.8.1-.1.3-.4.4-.6.1-.2.2-.4.3-.6.1-.2 0-.5 0-.7s-.9-2.3-1.2-3.1c-.3-.8-.7-.7-1-.7h-.9c-.3 0-.7.1-1 .5-.3.4-1.3 1.2-1.3 3s1.3 3.5 1.5 3.7c.2.2 2.6 4 6.4 5.6.9.4 1.6.6 2.2.8.9.3 1.7.2 2.3.1.7-.1 2.4-1 2.7-2 .3-1 .3-1.8.2-2-.2-.4-.3-.8-.5z"/>
  </svg>
</a>

<a href="#planes" class="floating-cta" id="floatingCTA" onclick="trackEngagement('floating_cta_clicked')">ğŸ’Œ Empieza Hoy</a>

<header class="text-center px-6 pt-24 pb-16 max-w-6xl mx-auto relative">
  
  <div id="activeBadge" style="
    position: absolute;
    top: 20px;
    right: 20px;
    background: rgba(0,255,0,0.1);
    border: 1px solid rgba(0,255,0,0.3);
    padding: 8px 14px;
    border-radius: 20px;
    font-size: 12px;
    color: #0f0;
    backdrop-filter: blur(10px);
    z-index: 10;
  ">
    ğŸŸ¢ Cargando...
  </div>

  <h1 class="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-extrabold gradient-hero leading-tight">
    La chispa<br>antes<br>del libro.
  </h1>

  <p class="text-xl sm:text-2xl text-gray-200 max-w-2xl mx-auto mt-5 leading-snug font-bold mb-8">
    Recibe tu empujoncito de lectura<br>por WhatsApp
  </p>

  <div class="max-w-md mx-auto">
    <form class="flex flex-col gap-2" onsubmit="return handleCapture(event)">
      
      <div class="flex gap-2">
        <input
          type="text"
          id="firstNameCapture"
          name="firstname"
          placeholder="Nombre"
          class="px-5 py-2.5 text-base rounded-full bg-white/10 border-2 border-white/20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition w-1/2"
          required
        />
        <input
          type="text"
          id="lastNameCapture"
          name="lastname"
          placeholder="Apellido"
          class="px-5 py-2.5 text-base rounded-full bg-white/10 border-2 border-white/20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition w-1/2"
          required
        />
      </div>

      <input
        type="email"
        id="emailCapture"
        name="email"
        placeholder="tu@email.com"
        class="px-5 py-2.5 text-base rounded-full bg-white/10 border-2 border-white/20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition w-full"
        required
      />
      
      <div class="phone-input-wrapper">
        <select 
          id="countryCode"
          name="countryCode"
          class="country-code px-3 py-2.5 text-base rounded-full bg-white/10 border-2 border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition"
        >
          <option value="+52" selected>ğŸ‡²ğŸ‡½ +52</option>
          <option value="+1">ğŸ‡ºğŸ‡¸ +1</option>
          <option value="+34">ğŸ‡ªğŸ‡¸ +34</option>
          <option value="+54">ğŸ‡¦ğŸ‡· +54</option>
          <option value="+57">ğŸ‡¨ğŸ‡´ +57</option>
          <option value="+56">ğŸ‡¨ğŸ‡± +56</option>
          <option value="+51">ğŸ‡µğŸ‡ª +51</option>
          <option value="+593">ğŸ‡ªğŸ‡¨ +593</option>
          <option value="+58">ğŸ‡»ğŸ‡ª +58</option>
          <option value="+502">ğŸ‡¬ğŸ‡¹ +502</option>
          <option value="+53">ğŸ‡¨ğŸ‡º +53</option>
          <option value="+591">ğŸ‡§ğŸ‡´ +591</option>
          <option value="+1">ğŸ‡©ğŸ‡´ +1</option>
          <option value="+504">ğŸ‡­ğŸ‡³ +504</option>
          <option value="+595">ğŸ‡µğŸ‡¾ +595</option>
          <option value="+503">ğŸ‡¸ğŸ‡» +503</option>
          <option value="+505">ğŸ‡³ğŸ‡® +505</option>
          <option value="+506">ğŸ‡¨ğŸ‡· +506</option>
          <option value="+507">ğŸ‡µğŸ‡¦ +507</option>
          <option value="+598">ğŸ‡ºğŸ‡¾ +598</option>
          <option value="+1">ğŸ‡µğŸ‡· +1</option>
          <option value="+55">ğŸ‡§ğŸ‡· +55</option>
          <option value="+44">ğŸ‡¬ğŸ‡§ +44</option>
          <option value="+33">ğŸ‡«ğŸ‡· +33</option>
          <option value="+39">ğŸ‡®ğŸ‡¹ +39</option>
          <option value="+49">ğŸ‡©ğŸ‡ª +49</option>
          <option value="+1">ğŸ‡¨ğŸ‡¦ +1</option>
        </select>
        <input
          type="tel"
          id="phoneCapture"
          name="phone"
          placeholder="55 1234 5678"
          pattern="[0-9\s]+"
          class="phone-number px-5 py-2.5 text-base rounded-full bg-white/10 border-2 border-white/20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition"
          required
        />
      </div>

      <button id="submitBtn" type="submit" class="glow-button text-base py-3 transition-all w-full">
        ğŸ“¬ Quiero mi 1ra sorpresa gratis
      </button>
    </form>
    <p class="text-xs text-gray-500 mt-3">
      âœ“ Gratis Â· âœ“ Cancela cuando quieras Â· âœ“ Sin spam
    </p>
  </div>

  <p class="text-sm text-gray-500 mt-8 mb-4">
    O descarga la app gratis
  </p>
  <div class="flex items-center justify-center gap-2 h-[56px] mb-8" aria-label="Descargar Triggui">
    <a href="https://apps.apple.com/mx/app/triggui/id6752839016" target="_blank" rel="noopener"
       class="h-full inline-flex items-center rounded-[12px] transition hover:scale-105"
       onclick="trackEngagement('app_store_download')">
      <img 
        src="./downloadappstore.png" 
        alt="App Store" 
        class="h-full w-auto block transform-gpu scale-[.78]"
        loading="lazy"
      />
    </a>
    <a href="https://play.google.com/store/apps/details?id=com.triggui.app" target="_blank" rel="noopener"
       class="h-full inline-flex items-center rounded-[12px] transition hover:scale-105"
       onclick="trackEngagement('google_play_download')">
      <img 
        src="./getitonplaystore.png" 
        alt="Google Play" 
        class="h-full w-auto block transform-gpu scale-[1.18]"
        loading="lazy"
      />
    </a>
  </div>

  <p class="text-base text-gray-400 max-w-xl mx-auto leading-relaxed border-t border-gray-800 pt-8">
    Te llegan en el momento exacto.<br>Los lunes cuando mÃ¡s las necesitas.<br>Y sorpresas en la semana.
  </p>

</header>

<section class="py-20 text-center bg-[#11121c] border-t border-gray-800" id="section-porque-pagar">
  <h2 class="text-3xl sm:text-4xl font-bold gradient-vs leading-tight mb-4">
    Por quÃ© pagar
  </h2>
  <p class="text-gray-400 text-sm mb-10 max-w-2xl mx-auto">
    La app gratis es perfecta para empezar.<br>
    WhatsApp es para quien quiere las pÃ¡ginas <span class="text-pink-400 font-bold">exactas</span> que necesita.
  </p>
  
  <div class="max-w-5xl mx-auto grid md:grid-cols-2 gap-8 px-6">
    
    <div class="glass text-left">
      <h3 class="text-xl font-bold mb-4 text-gray-300">ğŸ“± App Gratis</h3>
      <ul class="text-sm text-gray-400 space-y-3 mb-6">
        <li class="flex items-start gap-2">
          <span class="text-gray-500">â€¢</span>
          <span>Libro random cuando abres la app</span>
        </li>
        <li class="flex items-start gap-2">
          <span class="text-gray-500">â€¢</span>
          <span>Algoritmo bÃ¡sico, sin personalizaciÃ³n</span>
        </li>
        <li class="flex items-start gap-2">
          <span class="text-gray-500">â€¢</span>
          <span>TÃº decides cuÃ¡ndo abrir</span>
        </li>
      </ul>
      <p class="text-xs text-gray-500 italic border-t border-gray-700 pt-4">
        Perfecto si solo quieres explorar
      </p>
    </div>

    <div class="glass text-left border-2 border-pink-500/40 relative">
      <div class="absolute -top-3 left-1/2 transform -translate-x-1/2">
        <span class="urgency-badge">ğŸ”¥ Lo elige quien lee!</span>
      </div>
      <h3 class="text-xl font-bold mb-4 text-pink-400 mt-2">ğŸ’Œ WhatsApp</h3>
      <ul class="text-sm text-gray-200 space-y-3 mb-6">
        <li class="flex items-start gap-2">
          <span class="text-green-400">âœ“</span>
          <span><strong>Lunes 6 AM:</strong> La pÃ¡gina que necesitas para empezar la semana difÃ­cil</span>
        </li>
        <li class="flex items-start gap-2">
          <span class="text-green-400">âœ“</span>
          <span><strong>Martes 9 AM:</strong> Segunda pÃ¡gina para sostener el impulso</span>
        </li>
        <li class="flex items-start gap-2">
          <span class="text-green-400">âœ“</span>
          <span><strong>2 sorpresas en semana:</strong> Cuando menos lo esperas, justo lo que necesitas</span>
        </li>
        <li class="flex items-start gap-2">
          <span class="text-green-400">âœ“</span>
          <span>Timing cronobiolÃ³gico perfecto</span>
        </li>
      </ul>
      <div class="border-t border-pink-500/30 pt-4">
        <p class="text-sm text-gray-300 mb-2">
          <span class="text-pink-400 font-bold">Real:</span> "El lunes me llegÃ³ Invicto justo cuando todo se caÃ­a. Â¿CÃ³mo supiste?"
        </p>
        <p class="text-xs text-gray-500">â€” M.R., Directora, 3 meses</p>
      </div>
    </div>
  </div>

  <p class="text-sm text-gray-500 mt-10 max-w-2xl mx-auto">
    La diferencia no es tecnologÃ­a.<br>
    Es que alguien SÃ sabe quÃ© libro necesitas hoy.
  </p>
</section>

<section id="planes" class="py-24 text-center bg-[#0f0c29] border-t border-gray-800">
  <h2 class="text-4xl font-extrabold gradient-planes leading-tight mb-6">
    Empieza hoy
  </h2>
  <p class="text-gray-400 text-sm mb-12">
    Cancela cuando quieras. Sin preguntas.
  </p>
  
  <div class="max-w-6xl mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 px-4">

    <div class="glass relative">
      <h3 class="text-xl font-bold mb-4">Triggui itch</h3>
      <div class="text-left mb-4 space-y-2">
        <ul class="text-sm text-gray-300 space-y-2">
          <li class="flex items-start gap-2">
            <span class="text-green-400">âœ“</span>
            <span>2 pÃ¡ginas lunes y martes</span>
          </li>
          <li class="flex items-start gap-2">
            <span class="text-green-400">âœ“</span>
            <span>2 sorpresas en semana</span>
          </li>
          <li class="flex items-start gap-2">
            <span class="text-green-400">âœ“</span>
            <span>Timing perfecto por WhatsApp</span>
          </li>
          <li class="flex items-start gap-2">
            <span class="text-green-400">âœ“</span>
            <span>App gratis incluida</span>
          </li>
        </ul>
      </div>
      <p class="text-2xl sm:text-3xl font-bold text-white mb-1 mt-6">
        <span class="line-through text-gray-500 text-lg">$149</span>
        $100 / mes
      </p>
      <p class="text-xs text-pink-400 mb-4 font-bold">
        ğŸ Precio de lanzamiento
      </p>
      <a href="https://donate.stripe.com/fZueVf0Jg5UgeCQ8n324000"
         class="glow-button text-sm w-full block text-center"
         onclick="trackConversion('plan_itch_clicked', 100); return true;">Empezar ahora</a>
      <p class="text-xs text-gray-500 mt-3">
        Cancela cuando quieras
      </p>
    </div>

    <div class="glass border-2 border-green-500/40 relative">
      <div class="absolute -top-3 left-1/2 transform -translate-x-1/2 bg-green-500 text-black text-xs font-bold px-4 py-1 rounded-full">
        MÃS POPULAR
      </div>
      <h3 class="text-xl font-bold mb-4 mt-2">Triggui Anual</h3>
      <ul class="text-sm text-gray-300 space-y-2 mb-6 text-left">
        <li class="flex items-start gap-2">
          <span class="text-green-400">âœ“</span>
          <span>Todo lo de Itch mensual</span>
        </li>
        <li class="flex items-start gap-2">
          <span class="text-green-400">âœ“</span>
          <span><strong>Ahorras $588 al aÃ±o</strong></span>
        </li>
        <li class="flex items-start gap-2">
          <span class="text-green-400">âœ“</span>
          <span>Solo $100/mes efectivo</span>
        </li>
        <li class="flex items-start gap-2">
          <span class="text-green-400">âœ“</span>
          <span>OlvÃ­date por 12 meses</span>
        </li>
      </ul>
      <p class="text-2xl sm:text-3xl font-bold text-white mb-1 mt-6">
        $1,199 / aÃ±o
      </p>
      <p class="text-xs text-green-400 mb-4 font-bold">
        ğŸ’° Ahorras casi $600
      </p>
      <a href="https://donate.stripe.com/9B66oJ8bI1E02U85aR24001"
         class="glow-button text-sm w-full block text-center"
         onclick="trackConversion('plan_anual_clicked', 1199); return true;">Pagar anual</a>
      <p class="text-xs text-gray-500 mt-3">
        El plan mÃ¡s inteligente
      </p>
    </div>

    <div class="glass relative">
      <h3 class="text-xl font-bold mb-4">Triggui Lifetime</h3>
      <ul class="text-sm text-gray-300 space-y-2 mb-6 text-left">
        <li class="flex items-start gap-2">
          <span class="text-purple-400">âœ“</span>
          <span>Todo lo de Itch mensual</span>
        </li>
        <li class="flex items-start gap-2">
          <span class="text-purple-400">âœ“</span>
          <span><strong>Para siempre</strong></span>
        </li>
        <li class="flex items-start gap-2">
          <span class="text-purple-400">âœ“</span>
          <span>Nunca vuelves a pagar</span>
        </li>
        <li class="flex items-start gap-2">
          <span class="text-purple-400">âœ“</span>
          <span>InversiÃ³n Ãºnica</span>
        </li>
      </ul>
      <p class="text-2xl sm:text-3xl font-bold text-white mb-1 mt-6">
        $3,999
      </p>
      <p class="text-xs text-purple-400 mb-4 font-bold">
        â™¾ï¸ De por vida
      </p>
      <a href="https://donate.stripe.com/9B66oJ8bI1E02U85aR24001"
         class="glow-button text-sm w-full block text-center"
         onclick="trackConversion('plan_lifetime_clicked', 3999); return true;">Pago Ãºnico</a>
      <p class="text-xs text-gray-500 mt-3">
        La mejor inversiÃ³n
      </p>
    </div>

  </div>

  <div class="mt-12 max-w-md mx-auto">
    <p class="text-sm text-gray-400">
      <span class="text-pink-400 font-bold">Solo para 100 personas este mes.</span><br>
      DespuÃ©s sube a $149/mes.
    </p>
  </div>
</section>

<section class="py-20 text-center bg-[#0f0c29] border-t border-gray-800" id="section-porque-funciona">
  <h2 class="text-3xl font-bold gradient-paraque leading-tight mb-10">
    Por quÃ© funciona
  </h2>
  
  <div class="max-w-4xl mx-auto grid md:grid-cols-3 gap-6 text-left px-6 text-sm text-gray-300">
    <div class="glass">
      <span class="text-3xl mb-3 block">ğŸ§­</span>
      <strong class="block text-base mb-2">Claridad cuando mÃ¡s la necesitas</strong>
      <span class="text-gray-400 block">Los lunes son difÃ­ciles. Por eso te llega la pÃ¡gina exacta a las 6 AM.</span>
    </div>
    <div class="glass">
      <span class="text-3xl mb-3 block">âš¡</span>
      <strong class="block text-base mb-2">Sin decisiones, solo abrir</strong>
      <span class="text-gray-400 block">Llega a tu WhatsApp. No tienes que elegir nada. Solo leer.</span>
    </div>
    <div class="glass">
      <span class="text-3xl mb-3 block">â¤ï¸</span>
      <strong class="block text-base mb-2">Alguien sÃ­ sabe</strong>
      <span class="text-gray-400 block">No es un algoritmo. Es curaciÃ³n humana basada en tu momento real.</span>
    </div>
  </div>
</section>

<section class="py-24 text-center bg-[#11121c] border-t border-gray-800" id="section-testimonios">
  <h2 class="text-4xl font-bold gradient-testimonios leading-tight mb-4">
    QuÃ© dicen<br>quienes ya estÃ¡n
  </h2>

  <div class="countup mt-6 mb-2" id="numeroImpacto">+0</div>
  <p class="text-sm text-gray-400 mb-12">
    libros abiertos juntos. Vamos por 100 millones.
  </p>

  <div class="max-w-3xl mx-auto mb-12 px-6">
    <div class="glass text-left">
      <div class="space-y-6">
        <div class="border-l-2 border-pink-500 pl-4">
          <p class="text-base text-gray-200 mb-2">
            "El lunes me llegÃ³ justo el libro que necesitaba. Â¿CÃ³mo supiste?"
          </p>
          <p class="text-xs text-gray-500">â€” M.R., Directora de LogÃ­stica, 3 meses</p>
        </div>
        
        <div class="border-l-2 border-purple-500 pl-4">
          <p class="text-base text-gray-200 mb-2">
            "Invicto me cayÃ³ perfecto ese martes caÃ³tico. No fue casualidad."
          </p>
          <p class="text-xs text-gray-500">â€” J.P., Emprendedor, 2 meses</p>
        </div>

        <div class="border-l-2 border-blue-500 pl-4">
          <p class="text-base text-gray-200 mb-2">
            "Llevo 6 meses. CambiÃ³ cÃ³mo leo. Ya no busco, solo recibo."
          </p>
          <p class="text-xs text-gray-500">â€” A.M., Suscriptor fundador</p>
        </div>
      </div>
    </div>
  </div>

  <div class="max-w-6xl mx-auto grid md:grid-cols-3 gap-6 text-left px-6 text-gray-300 text-sm">
    <div class="glass">"Hay dÃ­as en los que necesito algo que me saque de la rutina. Esto es perfecto."</div>
    <div class="glass">"Yo antes leÃ­a diario. Triggui me recordÃ³ por quÃ© lo hacÃ­a."</div>
    <div class="glass">"Ver una pÃ¡gina llegar sin buscarla hizo que la leyera. ValiÃ³ la pena."</div>
  </div>
</section>

<section class="py-24 text-center bg-[#0f0c29]">
  <h2 class="text-4xl sm:text-5xl md:text-6xl font-extrabold mb-6 gradient-cierre leading-tight">
    Abre.<br>Un Libro.<br>
  </h2>
  <p class="text-gray-400 mb-8 text-lg">Empieza hoy.</p>
  <a href="#planes" class="glow-button text-base" onclick="trackEngagement('cta_final_clicked')">ğŸ’Œ Ver planes</a>
  
  <p class="text-sm text-gray-500 mt-8">
    O <a href="https://donate.stripe.com/9B66oJ8bI1E02U85aR24001" class="underline hover:text-pink-400 transition" onclick="trackConversion('donation_clicked', 0); return true;">dona lo que quieras</a>
  </p>
</section>

<footer class="text-center text-sm text-gray-500 py-12 border-t border-gray-700">
  <img 
    src="./trigguiletrasblanco.png" 
    alt="Triggui" 
    class="h-8 w-auto mx-auto mb-4 opacity-60"
    loading="lazy"
  />
  <p>Â© 2025 Triggui Â· Cada libro abierto es un momento real.</p>
</footer>

<script>
// ========================================
// DETECTAR WEBVIEW Y OCULTAR FLOTANTES
// ========================================
(function() {
  const ua = navigator.userAgent || navigator.vendor || window.opera;
  const isWebView = (/wv/i.test(ua) || /WebView/i.test(ua) ||
                     (ua.includes("Android") && ua.includes("Version/")) ||
                     (ua.includes("iPhone") && !ua.includes("Safari")));
  
  if (isWebView) {
    // Ocultar botÃ³n flotante de WhatsApp
    const whatsappFloat = document.getElementById('whatsappFloat');
    if (whatsappFloat) whatsappFloat.style.display = 'none';
    
    // Ocultar CTA flotante
    const floatingCTA = document.getElementById('floatingCTA');
    if (floatingCTA) floatingCTA.style.display = 'none';
    
    console.log('ğŸ”’ WebView detectado - Flotantes ocultados');
  }
})();

// ========================================
// EMAIL + PHONE + SPLIT NAME CAPTURE
// ========================================
async function handleCapture(event) {
  event.preventDefault();

  const btn = document.getElementById('submitBtn');
  const firstNameInput = document.getElementById('firstNameCapture');
  const lastNameInput = document.getElementById('lastNameCapture');
  const emailInput = document.getElementById('emailCapture');
  const phoneInput = document.getElementById('phoneCapture');
  const countryCode = document.getElementById('countryCode');
  
  const firstName = firstNameInput.value.trim();
  const lastName = lastNameInput.value.trim();
  const email = emailInput.value.trim();
  const phone = phoneInput.value.trim();
  const fullPhone = countryCode.value + phone.replace(/\s/g, '');

  if (!firstName || !lastName || !email || !phone) return;

  // Deshabilitar botÃ³n
  btn.disabled = true;
  btn.innerHTML = 'â³ Enviando...';

  // Obtener UTM params
  const utm = getUTMParams();

  const url = "https://script.google.com/macros/s/AKfycbyJdF6QZ4b321MUzzkpkvNLEL4-ZJDdgzs7gXTS6bhtI0HMgnJQnAm7tZMeo7u8oatE/exec";

  try {
    const response = await fetch(url, {
      method: "POST",
      headers: { "Content-Type": "application/x-www-form-urlencoded" },
      // AQUÃ ESTÃ EL CAMBIO CLAVE: Enviamos first_name y last_name separados
      body: "first_name=" + encodeURIComponent(firstName) + 
            "&last_name=" + encodeURIComponent(lastName) + 
            "&email=" + encodeURIComponent(email) + 
            "&phone=" + encodeURIComponent(fullPhone) +
            "&source=hero_capture" +
            "&utm_source=" + encodeURIComponent(utm.source) +
            "&utm_medium=" + encodeURIComponent(utm.medium) +
            "&utm_campaign=" + encodeURIComponent(utm.campaign)
    });

    // Track conversiÃ³n exitosa
    trackConversion('lead_captured', 100);
    
    btn.innerHTML = 'âœ… Â¡Listo! Revisa tu WhatsApp';
    
    // Actualizar contador social proof
    updateLiveCounter();
    
  } catch (e) {
    console.error('Error:', e);
    btn.innerHTML = 'âš ï¸ Error - Intenta de nuevo';
    setTimeout(() => {
      btn.innerHTML = 'ğŸ“¬ Quiero mi 1ra sorpresa gratis';
      btn.disabled = false;
    }, 2000);
    return;
  }

  // Limpiar inputs
  firstNameInput.value = '';
  lastNameInput.value = '';
  emailInput.value = '';
  phoneInput.value = '';
  
  // Resetear botÃ³n
  setTimeout(() => {
    btn.innerHTML = 'ğŸ“¬ Quiero mi 1ra sorpresa gratis';
    btn.disabled = false;
  }, 3000);
  
  return false;
}

// ========================================
// CONTADOR IMPACTO + SOCIAL PROOF
// ========================================
const span = document.getElementById("numeroImpacto");

function updateLiveCounter() {
  fetch("https://triggui-api.vercel.app/api/get?cb=" + Date.now())
    .then(r => r.json())
    .then(d => {
      const total = d.total || 8000;
      
      // Animar contador principal
      let cur = 0;
      const tgt = total;
      const inc = Math.ceil(tgt / 40);
      
      const step = () => {
        cur += inc;
        if (cur >= tgt) cur = tgt;
        span.textContent = "+" + cur.toLocaleString("es-MX");
        if (cur < tgt) requestAnimationFrame(step);
      };
      requestAnimationFrame(step);
      
      // Actualizar badge de usuarios activos
      const activeNow = Math.max(1, Math.floor(total / 100));
      const badge = document.getElementById('activeBadge');
      if (badge) {
        badge.textContent = `ğŸŸ¢ ${activeNow} leyendo ahora`;
      }
    })
    .catch(() => { 
      span.textContent = "+8,000";
      const badge = document.getElementById('activeBadge');
      if (badge) badge.textContent = "ğŸŸ¢ 80 leyendo ahora";
    });
}

// Iniciar contador
updateLiveCounter();

// Actualizar cada 30 segundos
setInterval(updateLiveCounter, 30000);

// ========================================
// FLOATING CTA (aparece despuÃ©s de scroll)
// ========================================
window.addEventListener('scroll', function() {
  const cta = document.getElementById('floatingCTA');
  if (!cta) return; // Si fue ocultado por WebView, no hacer nada
  
  const scrollPercent = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
  
  if (scrollPercent > 15) {
    cta.classList.add('visible');
  } else {
    cta.classList.remove('visible');
  }
});

// ========================================
// PHONE INPUT FORMATTING
// ========================================
document.getElementById('phoneCapture').addEventListener('input', function(e) {
  let value = e.target.value.replace(/\D/g, '');
  if (value.length > 10) value = value.slice(0, 10);
  
  // Format: 55 1234 5678
  if (value.length > 6) {
    value = value.slice(0, 2) + ' ' + value.slice(2, 6) + ' ' + value.slice(6);
  } else if (value.length > 2) {
    value = value.slice(0, 2) + ' ' + value.slice(2);
  }
  
  e.target.value = value;
});

// ========================================
// EXIT INTENT - Captura Ãºltimo intento
// ========================================
let exitIntentShown = false;

document.addEventListener('mouseleave', function(e) {
  // Solo si mouse sale por arriba (va a cerrar tab)
  if (e.clientY < 10 && !exitIntentShown && window.innerWidth > 768) {
    exitIntentShown = true;
    
    // Track intento de salida
    trackEngagement('exit_intent_triggered');
    
    // Mostrar CTA urgente (solo si no es WebView)
    const floatingCTA = document.getElementById('floatingCTA');
    if (floatingCTA && floatingCTA.style.display !== 'none') {
      floatingCTA.classList.add('visible');
      floatingCTA.style.animation = 'pulse-glow 1s infinite';
      floatingCTA.textContent = 'âš¡ Espera! Tu 1ra sorpresa gratis';
      
      // Reset despuÃ©s de 5 segundos
      setTimeout(() => {
        floatingCTA.textContent = 'ğŸ’Œ Empieza Hoy';
        floatingCTA.style.animation = 'pulse-glow 3s infinite';
      }, 5000);
    }
  }
});

// ========================================
// SECTION TRACKING (Scroll depth)
// ========================================
const sections = [
  { id: 'section-porque-pagar', name: 'porque_pagar' },
  { id: 'planes', name: 'planes' },
  { id: 'section-porque-funciona', name: 'porque_funciona' },
  { id: 'section-testimonios', name: 'testimonios' }
];

const trackedSections = new Set();

function checkSectionView() {
  sections.forEach(section => {
    const element = document.getElementById(section.id);
    if (!element || trackedSections.has(section.name)) return;
    
    const rect = element.getBoundingClientRect();
    const windowHeight = window.innerHeight || document.documentElement.clientHeight;
    
    // Si el 50% de la secciÃ³n estÃ¡ visible
    if (rect.top <= windowHeight * 0.75 && rect.bottom >= windowHeight * 0.25) {
      trackedSections.add(section.name);
      trackSectionView(section.name);
    }
  });
}

// Check on scroll (throttled)
let scrollTimeout;
window.addEventListener('scroll', function() {
  clearTimeout(scrollTimeout);
  scrollTimeout = setTimeout(checkSectionView, 150);
});

// Check initial view
setTimeout(checkSectionView, 1000);

// ========================================
// DEBUG MODE (Console)
// ========================================
console.log('%cğŸš€ TRIGGUI TRACKING ACTIVO', 'background: #0f0; color: #000; font-size: 16px; padding: 10px;');
console.log('UTM Params:', getUTMParams());
console.log('Para ver eventos: Abre Google Analytics en tiempo real');
</script>

</body>
</html>
